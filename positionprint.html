<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pure Natural Crepe Position Print Fabrics - Amrut Dresses</title>

    
    <link rel="canonical" href="https://amrutdresses.github.io/position-print-fabric/positionprint.html" /> 

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
            line-height: 1.6;
        }
        h1 {
            text-align: center;
            color: #5a2d82; /* A shade of purple often seen in fashion/Indian wear */
            margin-bottom: 30px;
        }
        .intro-text, .cta-text {
            max-width: 800px;
            margin: 0 auto 30px auto;
            padding: 0 20px;
            text-align: center;
            font-size: 1.1em;
            color: #555;
        }
        .image-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .image-item {
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            background-color: #fff;
            text-align: center;
            padding: 15px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .image-item img {
            width: 100%;
            height: 250px; /* Fixed height for consistent look */
            object-fit: contain; /* Ensures entire image is visible, no cropping */
            display: block;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px; /* Space between image and caption */
            margin-bottom: 10px;
            box-sizing: border-box; /* Include padding in width/height */
        }
        .image-item .product-info {
            margin-top: 5px;
            margin-bottom: 15px;
            font-size: 0.9em;
            color: #666;
            padding: 0 5px;
        }
        .image-item .product-info strong {
            display: block;
            font-size: 1.1em;
            color: #333;
            margin-bottom: 5px;
        }
        .image-item .product-info span {
            color: #5a2d82;
            font-weight: bold;
            font-size: 1em;
        }
         /* Zoom effect for product images on hover */
.image-item img {
    /* Your existing styles for .image-item img */
    width: 100%;
    height: 250px;
    object-fit: contain;
    display: block;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
    margin-bottom: 10px;
    box-sizing: border-box;

    /* New styles for zoom effect */
    transition: transform 0.3s ease-in-out; /* Smooth transition for the zoom */
}

.image-item img:hover {
    transform: scale(1.50); /* Zooms in by 5% on hover */
    box-shadow: 0 8px 16px rgba(0,0,0,0.2); /* Optional: Adds a shadow for emphasis */
    cursor: zoom-in; /* Changes cursor to a zoom-in icon */
}
        /* Quantity Input for each item */
        .item-quantity-wrapper {
            padding-top: 10px;
            border-top: 1px solid #eee;
            margin-top: 10px;
            text-align: center;
        }
        .item-quantity-wrapper label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.95em;
            color: #444;
        }
        .item-quantity-wrapper input[type="number"] {
            width: calc(100% - 20px);
            padding: 8px 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            text-align: center;
            font-size: 1em;
        }
        .item-quantity-wrapper input[type="number"]::placeholder {
            color: #aaa;
        }

        /* Global Calculator Section */
        .global-calculator-section {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            text-align: center;
        }
        .global-calculator-section h2 {
            color: #5a2d82;
            margin-bottom: 20px;
        }
        .calculate-order-btn {
    background-color: #5a2d82;
    color: white;
    padding: 15px 30px; /* Default size for larger screens */
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.3em; /* Default font size for larger screens */
    font-weight: bold;
    transition: background-color 0.3s ease, transform 0.2s ease; /* Add transform for hover effect */
    box-shadow: 0 4px 10px rgba(0,0,0,0.2); /* Add a subtle shadow to make it pop */

    /* NEW: Sticky positioning */
    position: fixed; /* Makes the button stick to the viewport */
    bottom: 20px;    /* 20px from the bottom of the screen */
    right: 20px;     /* 20px from the right of the screen */
    z-index: 1000;   /* Ensures it stays on top of other content */
    margin-top: 0;   /* Override any previous margin-top */
}

.calculate-order-btn:hover {
    background-color: #7b4ea3;
    transform: scale(1.05); /* Slightly enlarge on hover for feedback */
}

/* Media query for smaller screens (e.g., mobile phones) */
@media (max-width: 768px) { /* Adjust this breakpoint if needed */
    .calculate-order-btn {
        padding: 12px 20px; /* Smaller padding for mobile */
        font-size: 1em;    /* Smaller font size for mobile */
        bottom: 15px;      /* Slightly closer to the bottom on mobile */
        right: 15px;       /* Slightly closer to the right on mobile */
    }
}
        .global-result-display {
            margin-top: 30px;
            padding: 20px;
            background-color: #e6e6fa; /* Light lavender */
            border: 1px solid #d4c4f7;
            border-radius: 8px;
            min-height: 100px;
            text-align: left;
        }
        .global-result-display h2 {
            margin-top: 0;
            color: #5a2d82;
            text-align: center;
        }
        .global-result-display p {
            margin-bottom: 8px;
            font-size: 1.05em;
        }
        .global-result-display b {
            color: #333;
            font-size: 1.1em;
        }
        .global-result-display strong {
            color: #5a2d82;
            font-size: 1.2em;
            display: block;
            margin-top: 10px;
            text-align: center;
        }
        #whatsapp-order-btn {
            display: block;
            margin: 20px auto 0 auto;
            background-color: #25D366;
            color: white;
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            font-size: 1.1em;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        #whatsapp-order-btn:hover {
            background-color: #1DA851;
        }

        .seo-section {
            max-width: 800px;
            margin: 40px auto;
            padding: 0 20px;
        }
        .seo-section h2 {
            color: #5a2d82;
            margin-top: 30px;
            border-bottom: 2px solid #eee;
            padding-bottom: 5px;
        }
        .seo-section h3 {
            color: #7b4ea3;
            margin-top: 20px;
        }
        .seo-section ul {
            list-style-type: disc;
            margin-left: 20px;
            margin-bottom: 15px;
        }
        .seo-section a {
            color: #007bff;
            text-decoration: none;
        }
        .seo-section a:hover {
            text-decoration: underline;
        }
        .call-to-action {
            text-align: center;
            margin: 40px auto;
            padding: 20px;
            background-color: #e6e6fa; /* Light lavender */
            border-radius: 8px;
            max-width: 600px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .call-to-action a {
            display: inline-block;
            background-color: #5a2d82;
            color: #fff;
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 5px;
            font-size: 1.2em;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }
        .call-to-action a:hover {
            background-color: #7b4ea3;
        }
    </style>
</head>
<body>

    <h1>Pure Natural Crepe Position Print Fabric Collection</h1>

    
    <div class="image-gallery">
        <div class="image-item"
            data-product-name="Crepe Floral Elegance"
            data-selling-rate="599"
            data-purchase-rate="380"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A5890080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_4.webp" alt="Elegant Pure Natural Crepe Position Print Fabric 4">
            <p class="product-info"><strong>Crepe Floral Elegance</strong><br><span>Starting from ₹599 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-1">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-1" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>
        <div class="image-item"
            data-product-name="Pure Natural Crepe Embroidery Fabric"
            data-selling-rate="803"
            data-purchase-rate="575"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10"> <img src="pure-natural-crepe-fabric-with-position-print-embroidery-elegant-038-soft-fabric-15629.webp" alt="Elegant Pure Natural Crepe Fabric with Position Print Embroidery">
            <p class="product-info"><strong>Pure Natural Crepe Embroidery Fabric</strong><br><span>Starting from ₹803 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-21">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-21" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Abstract Flow"
            data-selling-rate="599"
            data-purchase-rate="380"
            data-weightage="0.20"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A5890080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_3.webp" alt="Luxurious Crepe Fabric with Unique Print 3">
            <p class="product-info"><strong>mustard crepe with floral position print embroidery</strong><br><span>Starting from ₹599 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-2">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-2" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Motif Classic"
            data-selling-rate="599"
            data-purchase-rate="380"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A5890080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_2.webp" alt="Premium Position Print Crepe Fabric Sample 2">
            <p class="product-info"><strong>pista green natural crepe with floral pposition print work</strong><br><span>Starting from ₹599 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-3">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-3" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Delicate Pattern"
            data-selling-rate="704"
            data-purchase-rate="480"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="8">
            <img src="A5890080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_1.webp" alt="High-Quality Natural Crepe Fabric Print 1">
            <p class="product-info"><strong>leaf green natural crepe with floral position print embroidery</strong><br><span>Starting from ₹704 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-4">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-4" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="royal blue natural crepe floral Print"
            data-selling-rate="704"
            data-purchase-rate="480"
            data-weightage="0.2"
            data-min-qty="2"
            data-max-qty="10">
            <img src="A5890080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC.webp" alt="Exclusive Pure Natural Crepe Fabric Collection">
            <p class="product-info"><strong>royal blue natural crepe with floral position print embroidery</strong><br><span>Starting from ₹704 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-5">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-5" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

          <div class="image-item"
            data-product-name="Crepe Floral Print 9"
            data-selling-rate="599"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_9.webp" alt="Pure Natural Crepe Position Print Fabric 9">
            <p class="product-info"><strong>Crepe Floral Print 9</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-6">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-6" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Pattern Print 8"
            data-selling-rate="599"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_8.webp" alt="Pure Natural Crepe Position Print Fabric 8">
            <p class="product-info"><strong>Crepe Pattern Print 8</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-7">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-7" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Elegant Design 7"
            data-selling-rate="599"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_7.webp" alt="Pure Natural Crepe Position Print Fabric 7">
            <p class="product-info"><strong>Crepe Elegant Design 7</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-8">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-8" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Abstract Print 6"
            data-selling-rate="599"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_6.webp" alt="Pure Natural Crepe Position Print Fabric 6">
            <p class="product-info"><strong>Crepe Abstract Print 6</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-9">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-9" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Modern Print 5"
            data-selling-rate="599"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_5.webp" alt="Pure Natural Crepe Position Print Fabric 5">
            <p class="product-info"><strong>Crepe Modern Print 5</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-10">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-10" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Artistic Print 4"
            data-selling-rate="599"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_4.webp" alt="Pure Natural Crepe Position Print Fabric 4">
            <p class="product-info"><strong>Crepe Artistic Print 4</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-11">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-11" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Vibrant Print 3"
            data-selling-rate="599"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_3.webp" alt="Pure Natural Crepe Position Print Fabric 3">
            <p class="product-info"><strong>Crepe Vibrant Print 3</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-12">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-12" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Classic Print 2"
            data-selling-rate="599"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_2.webp" alt="Pure Natural Crepe Position Print Fabric 2">
            <p class="product-info"><strong>Crepe Classic Print 2</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-13">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-13" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Fresh Print 1"
            data-selling-rate="704"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="8">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_1.webp" alt="Pure Natural Crepe Position Print Fabric 1">
            <p class="product-info"><strong>Crepe Fresh Print 1</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-14">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-14" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Original Print"
            data-selling-rate="704"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="2"
            data-max-qty="10">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC.webp" alt="Pure Natural Crepe Position Print Fabric Original">
            <p class="product-info"><strong>Crepe Original Print</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-15">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-15" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Unique Print 10"
            data-selling-rate="599"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_10.webp" alt="Pure Natural Crepe Position Print Fabric 10">
            <p class="product-info"><strong>Crepe Unique Print 10</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-16">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-16" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Floral Elegance 11"
            data-selling-rate="599"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_11.webp" alt="Pure Natural Crepe Position Print Fabric 11">
            <p class="product-info"><strong>Crepe Floral Elegance 11</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-17">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-17" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Abstract Flow 12"
            data-selling-rate="599"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_12.webp" alt="Pure Natural Crepe Position Print Fabric 12">
            <p class="product-info"><strong>Crepe Abstract Flow 12</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-18">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-18" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Motif Classic 13"
            data-selling-rate="599"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="10">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_13.webp" alt="Pure Natural Crepe Position Print Fabric 13">
            <p class="product-info"><strong>Crepe Motif Classic 13</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-19">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-19" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>

        <div class="image-item"
            data-product-name="Crepe Delicate Pattern 14"
            data-selling-rate="704"
            data-purchase-rate="540"
            data-weightage="0.2"
            data-min-qty="1"
            data-max-qty="8">
            <img src="A51020080320251935_PURE_NATURAL_CREPE_POSITION_PRINT_FABRIC_14.webp" alt="Pure Natural Crepe Position Print Fabric 14">
            <p class="product-info"><strong>Crepe Delicate Pattern 14</strong><br><span>Starting from ₹767 per meter</span></p>
            <div class="item-quantity-wrapper">
                <label for="quantity-20">Quantity (in meters):</label>
                <input type="number" class="item-quantity-input" id="quantity-20" step="1" min="0" placeholder="Enter qty" value="">
            </div>
        </div>
    </div>

    <div class="global-calculator-section">
        <h2>Increase Your Quantity, Decrease Your Cost!</h2>
        <button id="calculate-order-btn" class="calculate-order-btn">Calculate Total Order</button>
        <div class="global-result-display" id="global-result-display">
            <p>Enter quantities for the fabrics you want and click "Calculate Total Order" to see your estimated price!</p>
        </div>
    </div>

    
        <div class="call-to-action">
            <p>Ready to create something beautiful?</p>
            <a href="https://bollywoodfabricstore.com/product-category/fabrics/position-print-fabric-collection/" target="_blank" rel="noopener">Shop Our Full Fabric Collection Now</a>
        </div>
    </div>

    <script>
        // Self-executing anonymous function to encapsulate variables and avoid global conflicts
(function() {
    // Your existing ranges and baseProfits arrays
    const ranges = [
        [25, 1980],[24.5,1650],[24,1650],[23.5,1320],[23,1320],[22.5,1650],[22,1590],
        [21.5,1540],[21,1490],[20.5,1440],[20,1400],[19.5,1320],[19,1320],[18.5,1320],
        [18,1320],[17.5,1320],[17,1260],[16.5,1210],[16,1160],[15.5,1110],[15,1070],
        [14.5,990],[14,990],[13.5,990],[13,990],[12.5,990],[12,930],[11.5,880],[11,830],
        [10.5,780],[10,740],[9.5,660],[9,660],[8.5,660],[8,660],[7.5,660],[7,600],
        [6.5,550],[6,500],[5.5,450],[5,410],[4.5,330],[4,330],[3.5,440],[3,370],
        [2.5,330],[2,270],[1.5,220],[1,170],[0.5,120],[0,80]
    ];

    const baseProfits = [110, 200, 270, 320, 350, 360, 385, 400, 405, 410];

    // Constants for better readability and maintainability
    const GST_RATE = 0.05;
    const PROFIT_PER_ITEM_AFTER_10 = 5;
    const WHATSAPP_PHONE_NUMBER = '917405235350'; // Your WhatsApp number with country code, no +, no spaces

    function getShipping(totalWeight) {
        for (let i = 0; i < ranges.length; i++) {
            // Changed from `>` to `>=` to match common range logic (e.g., 25 and above)
            if (totalWeight >= ranges[i][0]) {
                return ranges[i][1];
            }
        }
        return 0; // Default if weight is very low
    }

    function getTotalProfit(totalQty) {
        if (totalQty <= 0) return 0;
        return totalQty <= 10 ? (baseProfits[totalQty - 1] || 0) : (baseProfits[9] || 0) + (totalQty - 10) * PROFIT_PER_ITEM_AFTER_10;
    }

    function roundUp(val) {
        return Math.ceil(val);
    }

    /**
     * Calculates the total order cost for all selected items,
     * distributing profit, shipping, and GST appropriately.
     */
    function calculateCombinedOrder() {
        const imageItems = document.querySelectorAll('.image-item');
        let totalQty = 0;
        let totalWeight = 0;
        const selectedItemDetails = []; // Array to store details of items with quantity > 0

        // First pass: Collect data from all active input fields and accumulate totals
        imageItems.forEach(itemDiv => {
            const quantityInput = itemDiv.querySelector('.item-quantity-input');
            const qty = parseInt(quantityInput.value) || 0; // Use 0 if blank or invalid

            if (qty > 0) { // Only consider items with a quantity greater than 0
                const productName = itemDiv.dataset.productName;
                const purchaseRate = parseFloat(itemDiv.dataset.purchaseRate) || 0;
                const weightage = parseFloat(itemDiv.dataset.weightage) || 0;
                const minQty = parseInt(itemDiv.dataset.minQty) || 0;
                const maxQty = parseInt(itemDiv.dataset.maxQty) || Infinity; // Use Infinity if no max

                // Input validation specific to individual item min/max
                if (qty < minQty) {
                     alert(`For '${productName}', please enter a quantity of at least ${minQty} meters.`);
                     quantityInput.focus();
                     selectedItemDetails.length = 0; // Clear array to prevent further calculation
                     return; // Exit forEach
                }
                if (qty > maxQty) {
                    alert(`For '${productName}', quantity cannot exceed available stock (${maxQty} meters).`);
                    quantityInput.focus();
                    selectedItemDetails.length = 0; // Clear array
                    return; // Exit forEach
                }

                totalQty += qty;
                totalWeight += qty * weightage;
                selectedItemDetails.push({
                    productName: productName,
                    qty: qty,
                    cost: purchaseRate,
                    weight: weightage,
                    basicCost: qty * purchaseRate, // Basic cost for this specific item
                });
            }
        });

        const resultDisplayDiv = document.getElementById("global-result-display");

        // Display a message if no items with valid quantities are entered
        if (totalQty === 0) {
            resultDisplayDiv.innerHTML = "<p style='color: #dc3545; font-weight: bold;'>Please enter a quantity greater than 0 for at least one fabric to calculate your order.</p>";
            // Scroll to the message if no items are selected
            resultDisplayDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
            return;
        }

        // Calculate total shipping and profit based on aggregated values
        const shippingTotal = getShipping(totalWeight);
        const totalProfit = getTotalProfit(totalQty);

        let finalGrandTotal = 0;
        let whatsappMessage = "Hello! I'd like to place an order from your website.\n\n*Order Details:*\n";
        let resultHTML = '<hr><h2>Calculation Summary:</h2>';

        // Second pass: Distribute shared costs (profit, shipping) and calculate final prices per item
        selectedItemDetails.forEach(item => {
            // Distribute profit based on quantity proportion
            const itemProfitShare = (item.qty / totalQty) * totalProfit;

            // Distribute shipping based on weight proportion
            const itemShippingShare = totalWeight > 0 ? (item.qty * item.weight / totalWeight) * shippingTotal : 0;

            // Calculate subtotal before GST
            const itemSubtotal = item.basicCost + itemProfitShare + itemShippingShare;
            const itemGST = GST_RATE * itemSubtotal;
            const itemFinal = roundUp(itemSubtotal + itemGST); // Round up final item cost

            // Calculate cost per unit (meter) for display
            const itemPerUnit = item.qty > 0 ? roundUp(itemFinal / item.qty) : 0;
            const itemTotalCalculatedCost = itemPerUnit * item.qty; // Recalculate total based on rounded per-unit price

            finalGrandTotal += itemTotalCalculatedCost; // Add to overall total

            // Append details for each item to the result HTML
            resultHTML += `
                <p><b>${item.productName} (Qty: ${item.qty} Meters):</b><br>
                &nbsp;&nbsp;&nbsp;Your Exclusive Price Per Meter = ₹${itemPerUnit}<br>
                &nbsp;&nbsp;&nbsp;Total for ${item.productName} = ₹${itemPerUnit} &times; ${item.qty} = ₹${itemTotalCalculatedCost}</p>
            `;

            // Add details to WhatsApp message string
            whatsappMessage += `\n*${item.productName}*:\n`;
            whatsappMessage += `Qty: ${item.qty} Meters\n`;
            whatsappMessage += `Price Per Meter: ₹${itemPerUnit}\n`;
            whatsappMessage += `Subtotal: ₹${itemTotalCalculatedCost}\n`;
        });

        // Add overall totals and instruction for payment link to WhatsApp message
        whatsappMessage += `\n*Your Grand Total: ₹${finalGrandTotal}*\n\n`;
        whatsappMessage += `Please send the payment link for ₹${finalGrandTotal}.`;

        // URL-encode the WhatsApp message
        const encodedWhatsAppMessage = encodeURIComponent(whatsappMessage);
        const whatsappLink = `https://wa.me/${WHATSAPP_PHONE_NUMBER}?text=${encodedWhatsAppMessage}`;

        // Final grand total and WhatsApp order button
        resultHTML += `
            <p><strong>Your Grand Total = ₹${finalGrandTotal}</strong></p>
            <a href="${whatsappLink}" target="_blank" style="text-decoration: none;">
                <button id="whatsapp-order-btn">
                    Send Order via WhatsApp
                </button>
            </a>
        `;

        resultDisplayDiv.innerHTML = resultHTML; // Update the result div on the page

        // NEW: Scroll the view to the result display block
        resultDisplayDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    // Initialize the calculator: attach event listener to "Calculate Total Order" button
    document.addEventListener('DOMContentLoaded', function() {
        const calculateOrderBtn = document.getElementById("calculate-order-btn");
        if (calculateOrderBtn) {
            calculateOrderBtn.addEventListener('click', calculateCombinedOrder);
        } else {
            console.warn("Global calculate button not found. Multi-item calculator might not initialize correctly.");
        }

        // Set min attribute for quantity inputs from data attributes on page load
        document.querySelectorAll('.image-item').forEach(itemDiv => {
            const quantityInput = itemDiv.querySelector('.item-quantity-input');
            const minQty = parseInt(itemDiv.dataset.minQty) || 0; // Default to 0 if min_qty is not set
            quantityInput.min = minQty;
            // Note: value is left blank/empty as requested
        });
    });

})(); // End of self-executing function
    </script>

</body>
</html>
